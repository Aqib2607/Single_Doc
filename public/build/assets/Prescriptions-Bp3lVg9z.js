import{m as x,r,j as e,L as h,B as p}from"./app-BMUAfwJQ.js";import{H as u}from"./Helmet-AptcXCTt.js";import{C as f,b as j,c as g,d as N,a as b}from"./card-Ck3tWgZh.js";import{N as v,F as y}from"./Footer-D3ESCq9b.js";import{A as w}from"./arrow-left-BMV71GIn.js";import{P as o}from"./pill-iMWN-rhQ.js";import"./index-Dww82bV-.js";import"./Combination-DueGPb6b.js";const _=()=>{const{user:n}=x(),[t,c]=r.useState([]),[d,l]=r.useState(!0);return r.useEffect(()=>{n&&(async()=>{try{const a=localStorage.getItem("token"),i=await fetch("/api/patient-prescriptions",{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(i.ok){const m=await i.json();c(m)}}catch(a){console.error("Error fetching prescriptions:",a)}finally{l(!1)}})()},[n]),e.jsxs(e.Fragment,{children:[e.jsxs(u,{children:[e.jsx("title",{children:"Prescriptions - Healthcare Portal"}),e.jsx("meta",{name:"description",content:"View all your active prescriptions and medications"})]}),e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(v,{}),e.jsx("main",{className:"pt-24 px-4 py-8",children:e.jsxs("div",{className:"container mx-auto max-w-4xl",children:[e.jsxs("div",{className:"mb-8 animate-fade-in-up",children:[e.jsx(h,{to:"/patient-dashboard",children:e.jsxs(p,{variant:"outline",size:"sm",className:"mb-4",children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-display font-bold text-gradient mb-4",children:"Prescriptions"}),e.jsx("p",{className:"text-xl text-muted-foreground",children:"Manage your active medications and prescriptions"})]}),e.jsxs(f,{className:"shadow-card border-border bg-card animate-fade-in-up",children:[e.jsxs(j,{children:[e.jsxs(g,{className:"text-foreground flex items-center gap-2",children:[e.jsx(o,{className:"h-5 w-5 text-primary"}),"Active Prescriptions (",t.length,")"]}),e.jsx(N,{className:"text-muted-foreground",children:"Your current medications with dosage instructions and refill information"})]}),e.jsx(b,{children:e.jsx("div",{className:"space-y-4",children:d?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading prescriptions..."}):t.length>0?t.map(s=>e.jsx("div",{className:"flex justify-between items-start p-6 border border-border rounded-lg bg-muted/50 hover:bg-muted transition-smooth",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mt-2"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("h3",{className:"font-semibold text-foreground text-lg",children:[s.medication_name," ",s.dosage]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Started: ",new Date(s.start_date).toLocaleDateString()]})]}),e.jsx("p",{className:"text-sm text-primary font-medium mb-2",children:s.frequency}),s.instructions&&e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:s.instructions}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-sm text-primary",children:["Refills: ",s.refills_remaining," remaining"]}),s.end_date&&e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Until: ",new Date(s.end_date).toLocaleDateString()]}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 text-green-800",children:"Active"})]})]})]})},s.id)):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(o,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No active prescriptions"})]})})})]})]})}),e.jsx(y,{})]})]})};export{_ as default};
