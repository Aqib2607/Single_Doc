import{a as g,r as a,j as e,C as p,B as d}from"./app-BmRBHgJ5.js";import{H as u}from"./Helmet-Bygm_3Oh.js";import{N as f,F as j}from"./Footer-CRBcJOEq.js";import{C as y,b,c as N,d as v,a as w}from"./card-_A9515Kj.js";import{C as k}from"./clock-CC_Y97Y9.js";import{A as C}from"./arrow-right-GDmLq-9M.js";import"./index-V3zJPndz.js";import"./Combination-Dnx0U-nf.js";const M=()=>{const m=g(),[n,r]=a.useState([]),[x,h]=a.useState(!0),[o,l]=a.useState(null),c=[{id:1,title:"10 Essential Health Tips for a Better Life",excerpt:"Discover simple yet effective ways to improve your overall health and wellbeing.",category:"Wellness",image:"/src/assets/blog-wellness.jpg",read_time:"5 min read",created_at:new Date().toISOString(),status:"published",doctor_id:1},{id:2,title:"Understanding Mental Health in Modern Times",excerpt:"Mental health awareness and practical strategies for maintaining psychological wellbeing.",category:"Mental Health",image:"/src/assets/blog-mental-health.jpg",read_time:"7 min read",created_at:new Date().toISOString(),status:"published",doctor_id:2},{id:3,title:"Nutrition Guidelines for Optimal Health",excerpt:"Evidence-based nutrition advice to help you make informed dietary choices.",category:"Nutrition",image:"/src/assets/blog-nutrition.jpg",read_time:"6 min read",created_at:new Date().toISOString(),status:"published",doctor_id:3}],i=a.useCallback(async()=>{try{l(null);const t=await fetch("/api/blogs");if(console.log("Response status:",t.status),console.log("Response headers:",t.headers),t.ok){const s=await t.json();console.log("API Response:",s),console.log("Number of blogs:",Array.isArray(s)?s.length:"Not an array"),r(Array.isArray(s)?s:[])}else{const s=await t.text();console.error("API Error:",t.status,t.statusText,s),console.warn("Using fallback blog data due to API error"),r(c),l(null)}}catch(t){console.error("Network Error:",t),console.error("Error stack:",t instanceof Error?t.stack:"No stack trace"),console.warn("Using fallback blog data due to network error"),r(c),l(null)}finally{h(!1)}},[]);return a.useEffect(()=>{i()},[i]),x?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading blogs..."})]})}):e.jsxs(e.Fragment,{children:[e.jsxs(u,{children:[e.jsx("title",{children:"Health Blog | Dr. Sarah Mitchell"}),e.jsx("meta",{name:"description",content:"Read expert medical advice, health tips, and wellness insights from Dr. Sarah Mitchell."})]}),e.jsxs("div",{className:"min-h-screen",children:[e.jsx(f,{}),e.jsx("main",{className:"pt-20",children:e.jsx("section",{className:"py-12 md:py-20",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("p",{className:"text-primary font-medium tracking-wider uppercase text-sm mb-4 animate-fade-in-up",children:"Our Blog"}),e.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-display font-bold mb-6 animate-fade-in-up",style:{animationDelay:"0.1s"},children:["Health & ",e.jsx("span",{className:"text-gradient italic",children:"Wellness"})," Insights"]}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto animate-fade-in-up",style:{animationDelay:"0.2s"},children:"Expert medical insights, health tips, and wellness advice to help you live your healthiest life."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.length>0?n.map((t,s)=>e.jsxs(y,{className:"group hover-lift border-2 border-border overflow-hidden animate-fade-in-up",style:{animationDelay:`${s*.1}s`},children:[e.jsxs("div",{className:"relative overflow-hidden aspect-video",children:[e.jsx("img",{src:t.image||"/src/assets/blog-wellness.jpg",alt:t.title,className:"w-full h-full object-cover transition-smooth group-hover:scale-110"}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("span",{className:"px-4 py-2 bg-primary text-primary-foreground font-medium text-sm rounded-full shadow-elegant",children:t.category})})]}),e.jsxs(b,{children:[e.jsx(N,{className:"text-xl font-display group-hover:text-primary transition-smooth",children:t.title}),e.jsx(v,{className:"mt-2 leading-relaxed",children:t.excerpt})]}),e.jsxs(w,{children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{size:16}),e.jsx("span",{children:new Date(t.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{size:16}),e.jsx("span",{children:t.read_time||"5 min read"})]})]}),e.jsxs(d,{variant:"ghost",className:"w-full group-hover:gradient-primary group-hover:text-white transition-smooth",onClick:()=>m(`/blog/${t.id}`),children:["Read More ",e.jsx(C,{size:16,className:"ml-2"})]})]})]},t.id)):e.jsx("div",{className:"col-span-full text-center py-12",children:o?e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-destructive text-lg font-medium",children:"Failed to load blog posts"}),e.jsx("p",{className:"text-muted-foreground",children:o}),e.jsx(d,{onClick:i,variant:"outline",children:"Try Again"})]}):e.jsx("p",{className:"text-muted-foreground text-lg",children:"No blog posts available at the moment."})})})]})})}),e.jsx(j,{})]})]})};export{M as default};
