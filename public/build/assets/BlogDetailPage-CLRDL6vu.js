import{b as y,a as B,r as l,j as e,B as m,C}from"./app-BPDUEK9a.js";import{H as k}from"./Helmet-BiIo1ML3.js";import{N as x,F as h,U as j}from"./Footer-wJw2Vl0P.js";import{C as p,a as u}from"./card-BqqNk-QP.js";import{A as g}from"./arrow-left-CQqfzv2_.js";import{C as E}from"./clock-BSsGIyad.js";import"./index-ChckW8YR.js";import"./Combination-ChCfGbNx.js";const _=()=>{const{id:o}=y(),n=B(),[s,f]=l.useState(null),[a,N]=l.useState(null),[b,i]=l.useState(!0),[c,d]=l.useState(null);l.useEffect(()=>{o&&v(o)},[o]);const v=async w=>{try{i(!0);const t=await fetch(`/api/blogs/${w}`);if(t.ok){const r=await t.json();console.log("Blog data:",r),f(r),r.doctor&&N(r.doctor)}else{console.error("API Error:",t.status,t.statusText);const r=await t.text();console.error("Error response:",r),d(`Blog post not found (${t.status})`)}}catch(t){console.error("Network Error:",t),d("Failed to load blog post - network error")}finally{i(!1)}};return b?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading blog post..."})]})}):c||!s?e.jsxs("div",{className:"min-h-screen",children:[e.jsx(x,{}),e.jsx("main",{className:"pt-20",children:e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Blog Post Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:c}),e.jsxs(m,{onClick:()=>n("/blog"),children:[e.jsx(g,{className:"mr-2 h-4 w-4"}),"Back to Blog"]})]})})}),e.jsx(h,{})]}):e.jsxs(e.Fragment,{children:[e.jsxs(k,{children:[e.jsxs("title",{children:[s.title," | Health Blog"]}),e.jsx("meta",{name:"description",content:s.excerpt})]}),e.jsxs("div",{className:"min-h-screen",children:[e.jsx(x,{}),e.jsx("main",{className:"pt-20",children:e.jsx("article",{className:"py-12",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[e.jsxs(m,{variant:"ghost",onClick:()=>n("/blog"),className:"mb-6",children:[e.jsx(g,{className:"mr-2 h-4 w-4"}),"Back to Blog"]}),e.jsxs(p,{className:"overflow-hidden",children:[e.jsxs("div",{className:"relative aspect-video overflow-hidden",children:[e.jsx("img",{src:s.image||"/src/assets/blog-wellness.jpg",alt:s.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("span",{className:"px-4 py-2 bg-primary text-primary-foreground font-medium text-sm rounded-full shadow-elegant",children:s.category})})]}),e.jsxs(u,{className:"p-8",children:[e.jsxs("header",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-display font-bold mb-4",children:s.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-sm text-muted-foreground mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{size:16}),e.jsx("span",{children:new Date(s.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{size:16}),e.jsx("span",{children:s.read_time||"5 min read"})]}),a&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{size:16}),e.jsxs("span",{children:["By ",a.name]}),a.specialization&&e.jsxs("span",{className:"text-primary",children:["â€¢ ",a.specialization]})]})]}),e.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:s.excerpt})]}),e.jsx("div",{className:"prose prose-lg max-w-none",children:e.jsx("div",{className:"text-foreground leading-relaxed",dangerouslySetInnerHTML:{__html:s.content}})})]})]}),a&&e.jsx(p,{className:"mt-8",children:e.jsxs(u,{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"About the Author"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(j,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:a.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.specialization})]})]})]})})]})})}),e.jsx(h,{})]})]})};export{_ as default};
