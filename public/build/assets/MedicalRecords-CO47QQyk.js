import{l as u,r,j as e,L as h,B as o}from"./app-DLYui31f.js";import{H as p}from"./Helmet-urtwsQlQ.js";import{C as j,b as f,c as g,d as b,a as N}from"./card-BCsBoSso.js";import{N as y,F as w}from"./Footer-A8AvWlLc.js";import{A as v}from"./arrow-left-QyMJWcvO.js";import{F as l}from"./file-text-C-mR9aPd.js";import"./index-C01c7wLv.js";import"./Combination-DT6EQKZ0.js";const B=()=>{const{user:i}=u(),[t,c]=r.useState([]),[n,m]=r.useState(!0);return r.useEffect(()=>{i&&(async()=>{try{const a=localStorage.getItem("token"),d=await fetch("/api/patient-medical-records",{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(d.ok){const x=await d.json();c(x)}}catch(a){console.error("Error fetching medical records:",a)}finally{m(!1)}})()},[i]),e.jsxs(e.Fragment,{children:[e.jsxs(p,{children:[e.jsx("title",{children:"Medical Records - Healthcare Portal"}),e.jsx("meta",{name:"description",content:"View all your medical records and test results"})]}),e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(y,{}),e.jsx("main",{className:"pt-24 px-4 py-8",children:e.jsxs("div",{className:"container mx-auto max-w-4xl",children:[e.jsxs("div",{className:"mb-8 animate-fade-in-up",children:[e.jsx(h,{to:"/patient-dashboard",children:e.jsxs(o,{variant:"outline",size:"sm",className:"mb-4",children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-display font-bold text-gradient mb-4",children:"Medical Records"}),e.jsx("p",{className:"text-xl text-muted-foreground",children:"Complete history of your medical records and test results"})]}),e.jsxs(j,{className:"shadow-card border-border bg-card animate-fade-in-up",children:[e.jsxs(f,{children:[e.jsxs(g,{className:"text-foreground flex items-center gap-2",children:[e.jsx(l,{className:"h-5 w-5 text-primary"}),"All Medical Records (",t.length,")"]}),e.jsx(b,{className:"text-muted-foreground",children:"Your complete medical history including tests, consultations, and procedures"})]}),e.jsx(N,{children:e.jsx("div",{className:"space-y-4",children:n?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading medical records..."}):t.length>0?t.map(s=>e.jsx("div",{className:"flex justify-between items-start p-6 border border-border rounded-lg bg-muted/50 hover:bg-muted transition-smooth",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-3 h-3 rounded-full mt-2 ${s.status==="complete"?"bg-green-500":s.status==="reviewed"?"bg-blue-500":"bg-yellow-500"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-semibold text-foreground text-lg",children:s.title}),e.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(s.record_date).toLocaleDateString()})]}),e.jsx("p",{className:"text-sm text-primary font-medium mb-2",children:s.record_type}),s.description&&e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:s.description}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${s.status==="complete"?"bg-green-100 text-green-800":s.status==="reviewed"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)}),s.file_path&&e.jsxs(o,{variant:"outline",size:"sm",children:[e.jsx(l,{className:"h-3 w-3 mr-1"}),"View File"]})]})]})]})},s.id)):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(l,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No medical records available"})]})})})]})]})}),e.jsx(w,{})]})]})};export{B as default};
