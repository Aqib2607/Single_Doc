import{c as W,r as d,j as e,B as i}from"./app-DA_X3c2f.js";import{H as X}from"./Helmet-bH_TqkAV.js";import{C as D,b as S,c as F,d as q,a as E}from"./card-CAd50I3V.js";import{T as Y,a as Z,b as M,c as A}from"./tabs-ZwAfEH77.js";import{I as r}from"./input-CYt7NVOm.js";import{L as n}from"./label-Bq7tRztx.js";import{D as I,b as P,a as $,c as H,d as z,e as O}from"./dialog-DIqXoCYH.js";import{N as ee,F as se}from"./Footer-BwMPzB3k.js";import{D as te}from"./DoctorSidebar-B1i9MS38.js";import{P as L}from"./pill-CBQBhz4T.js";import{P as U}from"./plus-CXGNVBMD.js";import{S as B}from"./square-pen-DNoQFh8L.js";import{T as V}from"./trash-2-CRsYDBqf.js";import{T as J}from"./test-tube-L1mI6_Fo.js";import"./index-DxTWzPfI.js";import"./Combination-CDGqEdPP.js";import"./users-C-bOkYcc.js";import"./clock-Bs5Dbpfe.js";import"./stethoscope-DMxwkN-8.js";import"./file-text-CKOrfZ4E.js";import"./message-square-wLGzMr5n.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=W("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Te=()=>{const[y,R]=d.useState([]),[v,G]=d.useState([]),[b,m]=d.useState(!1),[c,N]=d.useState(null),[x,o]=d.useState("medicines"),[t,p]=d.useState({name:"",price:"",stock_quantity:"",manufacturer:"",category:"",strength:"",sample_type:"",duration_hours:""});d.useEffect(()=>{j(),g()},[]);const j=async()=>{try{const s=await fetch("/api/medicines");if(s.ok){const l=await s.json();R(l)}}catch(s){console.error("Error fetching medicines:",s)}},g=async()=>{try{const s=await fetch("/api/tests");if(s.ok){const l=await s.json();G(l)}}catch(s){console.error("Error fetching tests:",s)}},C=()=>localStorage.getItem("token"),T=async s=>{s.preventDefault();const l=C(),h=x||"medicines",u=c?`/api/${h}/${c.id}`:`/api/${h}`,K=c?"PUT":"POST";try{(await fetch(u,{method:K,headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify(t)})).ok&&(m(!1),f(),h==="medicines"?j():g())}catch(_){console.error("Error saving item:",_)}},w=async s=>{const l=C(),h=x||"medicines";try{(await fetch(`/api/${h}/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${l}`}})).ok&&(h==="medicines"?j():g())}catch(u){console.error("Error deleting item:",u)}},k=s=>{N(s),p({name:s.name||"",price:s.price||"",stock_quantity:s.stock_quantity||"",manufacturer:s.manufacturer||"",category:s.category||"",strength:s.strength||"",sample_type:s.sample_type||"",duration_hours:s.duration_hours||""}),m(!0)},f=()=>{p({name:"",price:"",stock_quantity:"",manufacturer:"",category:"",strength:"",sample_type:"",duration_hours:""}),N(null)},a=s=>{p({...t,[s.target.name]:s.target.value})};return e.jsxs(e.Fragment,{children:[e.jsx(X,{children:e.jsx("title",{children:"Medicine & Tests - Doctor Dashboard"})}),e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(ee,{}),e.jsxs("div",{className:"flex pt-20",children:[e.jsx(te,{}),e.jsx("main",{className:"flex-1 px-6 py-8",children:e.jsxs("div",{className:"container mx-auto max-w-6xl",children:[e.jsxs("div",{className:"mb-8 animate-fade-in-up",children:[e.jsx("h1",{className:"text-4xl font-display font-bold text-gradient mb-4",children:"Medicine & Tests"}),e.jsx("p",{className:"text-xl text-muted-foreground",children:"View available medicines and diagnostic tests"})]}),e.jsxs(Y,{defaultValue:"medicines",className:"space-y-6",onValueChange:o,children:[e.jsxs(Z,{className:"grid w-full grid-cols-2",children:[e.jsx(M,{value:"medicines",children:"Medicines"}),e.jsx(M,{value:"tests",children:"Tests"})]}),e.jsx(A,{value:"medicines",children:e.jsxs(D,{className:"shadow-card border-border bg-card",children:[e.jsx(S,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs(F,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5 text-primary"}),"Medicine Inventory"]}),e.jsx(q,{children:"Manage available medicines"})]}),e.jsxs(I,{open:b&&x==="medicines",onOpenChange:m,children:[e.jsx(P,{asChild:!0,children:e.jsxs(i,{onClick:()=>{o("medicines"),f()},children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Add Medicine"]})}),e.jsxs($,{children:[e.jsxs(H,{children:[e.jsx(z,{children:c?"Edit Medicine":"Add New Medicine"}),e.jsx(O,{children:c?"Update the medicine information below.":"Fill in the details to add a new medicine to the inventory."})]}),e.jsxs("form",{onSubmit:T,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"name",children:"Name"}),e.jsx(r,{id:"name",name:"name",value:t.name,onChange:a,required:!0})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"price",children:"Price"}),e.jsx(r,{id:"price",name:"price",type:"number",step:"0.01",value:t.price,onChange:a,required:!0})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"stock_quantity",children:"Stock Quantity"}),e.jsx(r,{id:"stock_quantity",name:"stock_quantity",type:"number",value:t.stock_quantity,onChange:a,required:!0})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"manufacturer",children:"Manufacturer"}),e.jsx(r,{id:"manufacturer",name:"manufacturer",value:t.manufacturer,onChange:a})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"category",children:"Category"}),e.jsx(r,{id:"category",name:"category",value:t.category,onChange:a})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"strength",children:"Strength"}),e.jsx(r,{id:"strength",name:"strength",value:t.strength,onChange:a})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{type:"submit",children:c?"Update":"Create"}),e.jsx(i,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"})]})]})]})]})]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[y.map(s=>e.jsxs("div",{className:"flex justify-between items-center p-4 border border-border rounded-lg bg-muted/50 hover:bg-muted transition-smooth",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(L,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-foreground",children:s.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Manufacturer: ",s.manufacturer||"N/A"]}),e.jsxs("p",{className:"text-sm text-primary flex items-center gap-1",children:[e.jsx(Q,{className:"h-3 w-3"}),"$",s.price," | Stock: ",s.stock_quantity]}),s.strength&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Strength: ",s.strength]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{size:"sm",variant:"outline",onClick:()=>{o("medicines"),k(s)},children:e.jsx(B,{className:"h-4 w-4"})}),e.jsx(i,{size:"sm",variant:"destructive",onClick:()=>{o("medicines"),w(s.id)},children:e.jsx(V,{className:"h-4 w-4"})})]})]},s.id)),y.length===0&&e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No medicines available."})]})})]})}),e.jsx(A,{value:"tests",children:e.jsxs(D,{className:"shadow-card border-border bg-card",children:[e.jsx(S,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs(F,{className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-5 w-5 text-primary"}),"Diagnostic Tests"]}),e.jsx(q,{children:"Manage available diagnostic tests"})]}),e.jsxs(I,{open:b&&x==="tests",onOpenChange:m,children:[e.jsx(P,{asChild:!0,children:e.jsxs(i,{onClick:()=>{o("tests"),f()},children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Add Test"]})}),e.jsxs($,{children:[e.jsxs(H,{children:[e.jsx(z,{children:c?"Edit Test":"Add New Test"}),e.jsx(O,{children:c?"Update the test information below.":"Fill in the details to add a new diagnostic test."})]}),e.jsxs("form",{onSubmit:T,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"name",children:"Name"}),e.jsx(r,{id:"name",name:"name",value:t.name,onChange:a,required:!0})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"price",children:"Price"}),e.jsx(r,{id:"price",name:"price",type:"number",step:"0.01",value:t.price,onChange:a,required:!0})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"category",children:"Category"}),e.jsx(r,{id:"category",name:"category",value:t.category,onChange:a})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"sample_type",children:"Sample Type"}),e.jsx(r,{id:"sample_type",name:"sample_type",value:t.sample_type,onChange:a})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"duration_hours",children:"Duration (Hours)"}),e.jsx(r,{id:"duration_hours",name:"duration_hours",type:"number",value:t.duration_hours,onChange:a})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{type:"submit",children:c?"Update":"Create"}),e.jsx(i,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"})]})]})]})]})]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[v.map(s=>e.jsxs("div",{className:"flex justify-between items-center p-4 border border-border rounded-lg bg-muted/50 hover:bg-muted transition-smooth",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(J,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-foreground",children:s.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Category: ",s.category||"N/A"]}),e.jsxs("p",{className:"text-sm text-primary flex items-center gap-1",children:[e.jsx(Q,{className:"h-3 w-3"}),"$",s.price," | Duration: ",s.duration_hours||0,"h"]}),s.sample_type&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Sample: ",s.sample_type]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{size:"sm",variant:"outline",onClick:()=>{o("tests"),k(s)},children:e.jsx(B,{className:"h-4 w-4"})}),e.jsx(i,{size:"sm",variant:"destructive",onClick:()=>{o("tests"),w(s.id)},children:e.jsx(V,{className:"h-4 w-4"})})]})]},s.id)),v.length===0&&e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No tests available."})]})})]})})]})]})})]}),e.jsx(se,{})]})]})};export{Te as default};
