import{r as t,a as f,m as v,n as b,j as e,B as y,L as N}from"./app-Df2MkYDB.js";import{H as w}from"./Helmet-BwFEkIjD.js";import{I as d}from"./input-C-05JUpf.js";import{L as r}from"./label-3fFW8BBI.js";import{T as C,a as S,b as m}from"./tabs-BeVIAfMi.js";import{C as L,b as E,c as T,d as I,a as P}from"./card-DXfJpjM2.js";import"./index-BH8eUK68.js";const A=()=>{const[a,u]=t.useState("patient"),[i,h]=t.useState(""),[n,p]=t.useState(""),o=f(),{login:x}=v(),{toast:c}=b(),j=async s=>{if(s.preventDefault(),await x(i,n,a)){c({title:"Login successful",description:"Welcome back!"});const l=localStorage.getItem("user");if(l){const g=JSON.parse(l);o(g.role==="patient"?"/patient-dashboard":"/doctor-dashboard")}else o(a==="patient"?"/patient-dashboard":"/doctor-dashboard")}else c({title:"Login failed",description:"Invalid credentials. Please try again.",variant:"destructive"})};return e.jsxs(e.Fragment,{children:[e.jsxs(w,{children:[e.jsx("title",{children:"Login - Healthcare Portal"}),e.jsx("meta",{name:"description",content:"Sign in to your healthcare account"})]}),e.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-12 bg-background",children:e.jsxs(L,{className:"w-full max-w-md",children:[e.jsxs(E,{children:[e.jsx(T,{children:"Welcome Back"}),e.jsx(I,{children:"Sign in to your account"})]}),e.jsxs(P,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(r,{className:"mb-2 block",children:"I am a"}),e.jsx(C,{value:a,onValueChange:s=>u(s),children:e.jsxs(S,{className:"grid w-full grid-cols-2",children:[e.jsx(m,{value:"patient",children:"Patient"}),e.jsx(m,{value:"doctor",children:"Doctor"})]})})]}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"email",children:"Email"}),e.jsx(d,{id:"email",type:"email",placeholder:"Enter your email",value:i,onChange:s=>h(s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"password",children:"Password"}),e.jsx(d,{id:"password",type:"password",placeholder:"Enter your password",value:n,onChange:s=>p(s.target.value),required:!0})]}),e.jsx(y,{type:"submit",className:"w-full",children:"Sign In"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Don't have an account?"," ",e.jsx(N,{to:"/register",className:"text-primary hover:underline font-medium",children:"Create account"})]})})]})]})})]})};export{A as default};
