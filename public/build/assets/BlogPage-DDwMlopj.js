import{a as b,r as l,j as e,C as j,B as m}from"./app-DA_X3c2f.js";import{H as f}from"./Helmet-bH_TqkAV.js";import{N as v,F as y}from"./Footer-BwMPzB3k.js";import{C as N,b as w,c as C,d as k,a as S}from"./card-CAd50I3V.js";import{C as D}from"./clock-Bs5Dbpfe.js";import{A}from"./arrow-right-B54R0jry.js";import"./index-DxTWzPfI.js";import"./Combination-CDGqEdPP.js";const g="/build/assets/blog-wellness-iSllpaJl.jpg",x="/build/assets/blog-mental-yxFhwW3i.jpg",h="/build/assets/blog-nutrition-BOp2suwf.jpg",E="/build/assets/blog-allergies-BZcjNnFo.jpg",B="/build/assets/blog-chronic-DXAalVMZ.jpg",M="/build/assets/blog-preventive-Cn1Yf-Kx.jpg",_=r=>({"/images/blog/blog-wellness.jpg":g,"/images/blog/blog-mental.jpg":x,"/images/blog/blog-nutrition.jpg":h,"/images/blog/blog-allergies.jpg":E,"/images/blog/blog-chronic.jpg":B,"/images/blog/blog-preventive.jpg":M})[r]||r,U=()=>{const r=b(),[i,o]=l.useState([]),[p,u]=l.useState(!0),[d,n]=l.useState(null),c=l.useCallback(async()=>{const t=[{id:1,title:"10 Essential Health Tips for a Better Life",excerpt:"Discover simple yet effective ways to improve your overall health and wellbeing.",category:"Wellness",image:g,read_time:"5 min read",created_at:new Date().toISOString(),status:"published",doctor_id:1},{id:2,title:"Understanding Mental Health in Modern Times",excerpt:"Mental health awareness and practical strategies for maintaining psychological wellbeing.",category:"Mental Health",image:x,read_time:"7 min read",created_at:new Date().toISOString(),status:"published",doctor_id:2},{id:3,title:"Nutrition Guidelines for Optimal Health",excerpt:"Evidence-based nutrition advice to help you make informed dietary choices.",category:"Nutrition",image:h,read_time:"6 min read",created_at:new Date().toISOString(),status:"published",doctor_id:3}];try{n(null);const s=await fetch("/api/blogs");if(console.log("Response status:",s.status),console.log("Response headers:",s.headers),s.ok){const a=await s.json();console.log("API Response:",a),console.log("Number of blogs:",Array.isArray(a)?a.length:"Not an array"),o(Array.isArray(a)?a:[])}else{const a=await s.text();console.error("API Error:",s.status,s.statusText,a),console.warn("Using fallback blog data due to API error"),o(t),n(null)}}catch(s){console.error("Network Error:",s),console.error("Error stack:",s instanceof Error?s.stack:"No stack trace"),console.warn("Using fallback blog data due to network error"),o(t),n(null)}finally{u(!1)}},[]);return l.useEffect(()=>{c()},[c]),p?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading blogs..."})]})}):e.jsxs(e.Fragment,{children:[e.jsxs(f,{children:[e.jsx("title",{children:"Health Blog | Dr. Sarah Mitchell"}),e.jsx("meta",{name:"description",content:"Read expert medical advice, health tips, and wellness insights from Dr. Sarah Mitchell."})]}),e.jsxs("div",{className:"min-h-screen",children:[e.jsx(v,{}),e.jsx("main",{className:"pt-20",children:e.jsx("section",{className:"py-12 md:py-20",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("p",{className:"text-primary font-medium tracking-wider uppercase text-sm mb-4 animate-fade-in-up",children:"Our Blog"}),e.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-display font-bold mb-6 animate-fade-in-up",style:{animationDelay:"0.1s"},children:["Health & ",e.jsx("span",{className:"text-gradient italic",children:"Wellness"})," Insights"]}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto animate-fade-in-up",style:{animationDelay:"0.2s"},children:"Expert medical insights, health tips, and wellness advice to help you live your healthiest life."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:i.length>0?i.map((t,s)=>e.jsxs(N,{className:"group hover-lift border-2 border-border overflow-hidden animate-fade-in-up",style:{animationDelay:`${s*.1}s`},children:[e.jsxs("div",{className:"relative overflow-hidden aspect-video",children:[e.jsx("img",{src:_(t.image||"/images/blog/blog-wellness.jpg"),alt:t.title,className:"w-full h-full object-cover transition-smooth group-hover:scale-110"}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("span",{className:"px-4 py-2 bg-primary text-primary-foreground font-medium text-sm rounded-full shadow-elegant",children:t.category})})]}),e.jsxs(w,{children:[e.jsx(C,{className:"text-xl font-display group-hover:text-primary transition-smooth",children:t.title}),e.jsx(k,{className:"mt-2 leading-relaxed",children:t.excerpt})]}),e.jsxs(S,{children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{size:16}),e.jsx("span",{children:new Date(t.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{size:16}),e.jsx("span",{children:t.read_time||"5 min read"})]})]}),e.jsxs(m,{variant:"ghost",className:"w-full group-hover:gradient-primary group-hover:text-white transition-smooth",onClick:()=>r(`/blog/${t.id}`),children:["Read More ",e.jsx(A,{size:16,className:"ml-2"})]})]})]},t.id)):e.jsx("div",{className:"col-span-full text-center py-12",children:d?e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-destructive text-lg font-medium",children:"Failed to load blog posts"}),e.jsx("p",{className:"text-muted-foreground",children:d}),e.jsx(m,{onClick:c,variant:"outline",children:"Try Again"})]}):e.jsx("p",{className:"text-muted-foreground text-lg",children:"No blog posts available at the moment."})})})]})})}),e.jsx(y,{})]})]})};export{U as default};
