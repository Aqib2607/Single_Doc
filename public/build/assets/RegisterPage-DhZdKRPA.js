import{r as g,a as b,m as C,n as N,j as e,B as w,L as F}from"./app-Df2MkYDB.js";import{H as S}from"./Helmet-BwFEkIjD.js";import{I as i}from"./input-C-05JUpf.js";import{L as r}from"./label-3fFW8BBI.js";import{T as h}from"./textarea-u746S7x7.js";import{S as P,a as q,b as E,c as R,d as u}from"./select-D2688qIK.js";import{T,a as D,b as x}from"./tabs-BeVIAfMi.js";import{C as z,b as A,c as L,d as B,a as H}from"./card-DXfJpjM2.js";import"./index-BdQq_4o_.js";import"./index-BH8eUK68.js";import"./Combination-DOcmoAy6.js";import"./index-Bl3jALJi.js";import"./chevron-down-DSSOtgWZ.js";const X=()=>{const[n,j]=g.useState("patient"),[s,v]=g.useState({name:"",email:"",password:"",password_confirmation:"",phone:"",specialization:"",license_number:"",bio:"",consultation_fee:"",date_of_birth:"",gender:"",address:"",emergency_contact_name:"",emergency_contact_phone:"",medical_history:"",allergies:""}),p=b(),{register:y}=C(),{toast:l}=N(),t=(a,o)=>{v(c=>({...c,[a]:o}))},f=async a=>{var o,c;if(a.preventDefault(),s.password!==s.password_confirmation){l({title:"Registration failed",description:"Passwords do not match.",variant:"destructive"});return}try{const d=await y(s,n);if(d.success){l({title:"Registration successful",description:"Your account has been created!"});const m=localStorage.getItem("user");if(m){const _=JSON.parse(m);p(_.role==="patient"?"/patient-dashboard":"/doctor-dashboard")}else p(n==="patient"?"/patient-dashboard":"/doctor-dashboard")}else{const m=((c=(o=d.errors)==null?void 0:o.email)==null?void 0:c[0])||d.errors||"Registration failed. Please try again.";l({title:"Registration failed",description:m,variant:"destructive"})}}catch{l({title:"Registration failed",description:"Network error. Please try again.",variant:"destructive"})}};return e.jsxs(e.Fragment,{children:[e.jsxs(S,{children:[e.jsx("title",{children:"Register - Healthcare Portal"}),e.jsx("meta",{name:"description",content:"Create your healthcare account"})]}),e.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-12 bg-background",children:e.jsxs(z,{className:"w-full max-w-2xl",children:[e.jsxs(A,{children:[e.jsx(L,{children:"Create Account"}),e.jsx(B,{children:"Register as a patient or doctor"})]}),e.jsxs(H,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(r,{className:"mb-2 block",children:"I am a"}),e.jsx(T,{value:n,onValueChange:a=>j(a),children:e.jsxs(D,{className:"grid w-full grid-cols-2",children:[e.jsx(x,{value:"patient",children:"Patient"}),e.jsx(x,{value:"doctor",children:"Doctor"})]})})]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"name",children:"Full Name"}),e.jsx(i,{id:"name",placeholder:"Enter your full name",value:s.name,onChange:a=>t("name",a.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"phone",children:"Phone"}),e.jsx(i,{id:"phone",placeholder:"Enter your phone",value:s.phone,onChange:a=>t("phone",a.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"email",children:"Email"}),e.jsx(i,{id:"email",type:"email",placeholder:"Enter your email",value:s.email,onChange:a=>t("email",a.target.value),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"password",children:"Password"}),e.jsx(i,{id:"password",type:"password",placeholder:"Enter your password",value:s.password,onChange:a=>t("password",a.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"password_confirmation",children:"Confirm Password"}),e.jsx(i,{id:"password_confirmation",type:"password",placeholder:"Confirm your password",value:s.password_confirmation,onChange:a=>t("password_confirmation",a.target.value),required:!0})]})]}),n==="doctor"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"specialization",children:"Specialization"}),e.jsx(i,{id:"specialization",placeholder:"e.g., Cardiology",value:s.specialization,onChange:a=>t("specialization",a.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"license_number",children:"License Number"}),e.jsx(i,{id:"license_number",placeholder:"Medical license number",value:s.license_number,onChange:a=>t("license_number",a.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"consultation_fee",children:"Consultation Fee ($)"}),e.jsx(i,{id:"consultation_fee",type:"number",placeholder:"e.g., 150",value:s.consultation_fee,onChange:a=>t("consultation_fee",a.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"bio",children:"Bio"}),e.jsx(h,{id:"bio",placeholder:"Brief professional bio",value:s.bio,onChange:a=>t("bio",a.target.value),rows:3})]})]}),n==="patient"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"date_of_birth",children:"Date of Birth"}),e.jsx(i,{id:"date_of_birth",type:"date",value:s.date_of_birth,onChange:a=>t("date_of_birth",a.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"gender",children:"Gender"}),e.jsxs(P,{onValueChange:a=>t("gender",a),children:[e.jsx(q,{children:e.jsx(E,{placeholder:"Select gender"})}),e.jsxs(R,{children:[e.jsx(u,{value:"male",children:"Male"}),e.jsx(u,{value:"female",children:"Female"}),e.jsx(u,{value:"other",children:"Other"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"address",children:"Address"}),e.jsx(h,{id:"address",placeholder:"Your full address",value:s.address,onChange:a=>t("address",a.target.value),required:!0,rows:2})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"emergency_contact_name",children:"Emergency Contact Name"}),e.jsx(i,{id:"emergency_contact_name",placeholder:"Contact person name",value:s.emergency_contact_name,onChange:a=>t("emergency_contact_name",a.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"emergency_contact_phone",children:"Emergency Contact Phone"}),e.jsx(i,{id:"emergency_contact_phone",placeholder:"Contact person phone",value:s.emergency_contact_phone,onChange:a=>t("emergency_contact_phone",a.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"medical_history",children:"Medical History (Optional)"}),e.jsx(h,{id:"medical_history",placeholder:"Previous medical conditions, surgeries, etc.",value:s.medical_history,onChange:a=>t("medical_history",a.target.value),rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"allergies",children:"Allergies (Optional)"}),e.jsx(h,{id:"allergies",placeholder:"Known allergies to medications, foods, etc.",value:s.allergies,onChange:a=>t("allergies",a.target.value),rows:2})]})]}),e.jsxs(w,{type:"submit",className:"w-full gradient-primary",children:["Create ",n==="doctor"?"Doctor":"Patient"," Account"]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",e.jsx(F,{to:"/login",className:"text-primary hover:underline font-medium",children:"Sign in"})]})})]})]})})]})};export{X as default};
